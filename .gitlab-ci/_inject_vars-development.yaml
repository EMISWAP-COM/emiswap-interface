inject_vars:
  emiswap-oracle:
    resources:
      requests: { cpu: 1, memory: '768Mi' }
      limits: { cpu: 1, memory: '768Mi' }
    fullnameOverride: emiswap-oracle
    image:
      repository: registry.gitlab.com/emidao/emiswap/oracle/emiswap-oracle-production
      tag: latest
      pullPolicy: Always
    imagePullSecrets:
      - name: gitlab-foreign-project-registry
    env:
      app_bugsnag_token: "9df906f1f861575615450187642a267e"
      start_block_number: "22794339"
      app_blockchain_block_confirmation: "6"
      app_blockchain_block_start_number: "25178068"
      app_blockchain_block_limit_save: "100"
      app_blockchain_block_num_threads: "15"
      app_blockchain_block_events_load_limit: "1000"
      app_blockchain_block_events_load_threads: "15"
      app_db_timeout: "60"
      app_db_pool_timeout: "60"
      app_db_max_connections: "25"
      app_env: development
      app_contracts_emi_price: '0x80807258d5b507b3e07a17048df72324627b0a5b'
      app_contracts_esw: '0xe37Ae239a84110009426071B7828A6fbd6be5F45'
      app_pool_exchange_launch_date: '2021-03-31T00:00:00+00:00'
    ingress:
      hosts:
      - host: "{{ env_fqdn }}"
        paths:
        - /v1
        - /api/v2
    workers:
      blockchain_block_events:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_block_events]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      blockchain_block:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_block]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      blockchain_event:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_event]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      rates_creator:
        cmd: ['bundle','exec','rake', 'workers:run[rates_creator]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      gas_tracker:
        cmd: ['bundle','exec','rake', 'workers:run[gas_tracker]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      pool_balancer:
        cmd: [ 'bundle','exec','rake', 'workers:run[pool_balancer]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      pool_block_bonus_payments:
        cmd: [ 'bundle','exec','rake', 'workers:run[pool_block_bonus_payments]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      exchanges_updater:
        cmd: [ 'bundle','exec','rake', 'workers:run[exchanges_updater]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
    seed:
      blockchains.yaml: |
        - name: Infura Emirex
          state: disabled
          priority: 3
          client: infura
          meta:
            project_id: b7c5bba80094418abf5e746ba10dac0
            token: 0dd7f7f3408c4e1896ef403f01871880
            network: kovan
        - name: Infura Alexander
          state: active
          priority: 2
          client: infura
          meta:
            project_id: 69f702a1b8434172badf1e984fe499c8
            token: f7f14520aaf8473597b92b127ecc1679
            network: kovan
        - name: Emirex eth-kovan staging node
          state: active
          priority: 1
          client: default
          meta:
            base_uri: http://eth1.staging.emirex.co:8545
     

  postgresql:
    image:
      tag: 13.1.0
    global:
      storageClass: csi-krbd-sc

  emiswap-nft:
    image:
      repository: registry.gitlab.com/emidao/emiswap/eminft/eminft-development
      tag: latest
      pullPolicy: Always
    imagePullSecrets:
      - name: gitlab-foreign-project-registry
    basePath: /magic_cards
    ingress:
      hosts:
        - host: '{{ env_fqdn }}'
          paths:
            - /magic_cards
