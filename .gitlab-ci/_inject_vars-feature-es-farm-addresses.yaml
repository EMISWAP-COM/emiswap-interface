emirex_charts:
  app:
    - emiswap-ui

chart_vars:
  emiswap-ui:
    fullnameOverride: emiswap-ui
    image:
      repository: "{{ lookup('env', '_img_repo') }}/{{ lookup( 'env', '_img_name') }}"
      tag: "{{ lookup('env', '_img_tag') }}"
      pullPolicy: IfNotPresent
    imagePullSecrets:
      - name: "{{ lookup('env', 'CI_PROJECT_PATH_SLUG') }}"
    env_js: |
      window.env = {
        REACT_APP_CHAIN_ID: '1',
        REACT_APP_NETWORK_URL: 'https://eth1.emiswap.com',
        REACT_APP_PORTIS_ID: '80945dc9-abef-4258-bf12-8e90b57a1d01',
        REACT_APP_FORTMATIC_KEY: 'pk_live_367A5E34E52789B6',
        REACT_APP_GOOGLE_ANALYTICS_ID: 'UA-146884842-3',
        REACT_APP_EMISWAP_VAULT_ADDRESS: '0x2694F5335CE99168e68F215dB6028D44fB0aff62',
        REACT_APP_EMISWAP_FACTORY_ADDRESS: '0x1771dff85160768255f0a44d20965665806cbf48',
        REACT_APP_EMISWAP_CROWDSALE_ADDRESS: '0x57C8844fBDb197Ad9C80cB5bCCC36ec43EE392EF',
        REACT_APP_EMISWAP_VESTING_ADDRESS: '0x9Cf73e538acC5B2ea51396eA1a6DE505f6a68f2b',
        REACT_APP_UNISWAP_V2_FACTORY_ADDRESS: '0x1771dff85160768255f0a44d20965665806cbf48',
        REACT_APP_UNISWAP_V2_HELPER_ADDRESS: '0xd9145CCE52D386f254917e481eB44e9943F39138',
        REACT_APP_MIGRATOR_ADDRESS: '0x1C9E6cf5a0559CE498AB3A67364840024fA76F87',
        REACT_APP_ESW_ID: '0x5a75A093747b72a0e14056352751eDF03518031d',
        REACT_APP_ANALYTICS_URL: 'https://emiswap.com',
        REACT_APP_CODE_LINK: 'https://github.com/EMISWAP-COM',
        REACT_APP_PUBLIC_URL: 'https://{{ env_fqdn }}',
        REACT_APP_MIN_GAS_FOR_SWAP: '320000',
        REACT_APP_MIN_GAS_FOR_POOL: '320000',
        REACT_APP_MIN_GAS_FOR_INVEST: '90000',
        REACT_APP_EMI_ROUTER_MAINNET: '0x22B8CCdeEEACB1F3879E36e06af413d44FD79F01',
        REACT_APP_EMI_ROUTER_ROPSTEN: '0xe5c8e363de97840d5996e1e8db8b5facda0f1e21',
        REACT_APP_EMI_ROUTER_RINKEBY: '0xe5c8e363de97840d5996e1e8db8b5facda0f1e21',
        REACT_APP_EMI_ROUTER_GÃ–RLI: '0xe5c8e363de97840d5996e1e8db8b5facda0f1e21',
        REACT_APP_EMI_ROUTER_KOVAN: '0x7EeE1d070924B8255DAd03ddE989ebBffC1000eB',
        REACT_APP_ESW_CLAIM_API: "https://sign.emiswap.com",
        REACT_APP_ESW_CLAIM_CHAIN_ID: "ETH_MN",
        REACT_APP_EMI_VAMP: '0x8b50a72B86bC55a49eF034Ef961d2d4e69b2681e',
        REACT_APP_KOVAN_WETH_ADDRESS: '0x440eB39eCFE6df3A5dCAeC7D9D0A16C875eBD77F',
        REACT_APP_KOVAN_WBTC_ADDRESS: '0x1F319B3dE5606D48c46d1a983704f4C0188A1e53',
        REACT_APP_KOVAN_USDT_ADDRESS: '0xa64C17e97771705e904C9d74C511d44b9Bc23974',
        REACT_APP_KOVAN_USDC_ADDRESS: '0x1c879c2681Cb1c63F6CEBc11A5F2B65Fc8AD23ba',
        REACT_APP_KOVAN_DAI_ADDRESS: '0x7b5f80e135296144837d5427D562797f72F66754',
        REACT_APP_EMRX_ADDRESS: '0x67059251E818Ae5aBeCF365d6e847a006bf6201e',
        REACT_APP_SENTRY_DSN: 'https://ab1c884236044e71a5df16c897df28be@o791174.ingest.sentry.io/5800896',
        REACT_APP_SENTRY_ORG: 'emidao',
        REACT_APP_SENTRY_PROJECT: 'emiswap',
        REACT_APP_SENTRY_RELEASE: '0.0.0',
        REACT_APP_SENTRY_AUTH_TOKEN: '3fd6fa12c53411ebabadb2b6a736423f',
        EMI_PRICE_2_ADDRESS: '0xB051F7DeFD9ed3fbCb8cF911C01b06dBD7281340',
      };
  emiswap-oracle:
    resources:
      requests: { cpu: 1, memory: '768Mi' }
      limits: { cpu: 1, memory: '4096Mi' }
    replicaCountOracle: 4
    fullnameOverride: emiswap-oracle
    env:
      app_puma_workers: 1
      app_puma_min_threads: 600
      app_puma_max_threads: 600
      app_env: production
      app_db_url: "postgresql://postgres:39gDJJ2YT7w3ggpJ@10.165.103.2/emiswap-oracle-db"
      app_bugsnag_token: "9df906f1f861575615450187642a267e"
      app_blockchain_block_confirmation: "6"
      app_blockchain_block_start_number: "11164801"
      app_blockchain_block_limit_save: "100"
      app_blockchain_block_num_threads: "15"
      app_blockchain_block_events_load_limit: "1000"
      app_blockchain_block_events_load_threads: "15"
      app_db_timeout: "60"
      app_db_pool_timeout: "60"
      app_db_max_connections: "600"
      app_contracts_emi_price: '0xb051f7defd9ed3fbcb8cf911c01b06dbd7281340'
      app_contracts_esw: '0x5a75a093747b72a0e14056352751edf03518031d'
      app_pool_exchange_launch_date: '2021-03-31T00:00:00+00:00'
      APP_BLOCKCHAIN_ESW_TO_DAI_DATE1: '2021-04-21T00:00:00+00:00'
      app_blockchain_esw_to_dai_launch_pad_date: '2021-06-28T00:00:00+00:00'
      APP_POOL_USE_REGISTERED_TOKENS: true
      APP_BLOCKCHAIN_BLOCK_EVENTS_NUM_THREADS: 25
      LOG_DB: false
      HUBSPOT_ENABLED: true
      HUBSPOT_API_KEY: c306e4fa-001d-43fb-a2f2-c0e76c7e85a4
      HUBSPOT_INVESTOR_REQUEST_PIPELINE_ID: "12564849"
      HUBSPOT_INVESTOR_REQUEST_DEALSTAGE_ID: "12564865"
      APP_CONTRACTS_FARM_TYPE1: '0x673f7a16b2d696a987383921292e8f46da715952'
      DEFISTATION_BASE_URI: "https://api.defistation.io/dataProvider/tvl"
      DEFISTATION_USERNAME: "EmiSwap"
      DEFISTATION_PASSWORD: "f9ae3861-9736-47bc-9233-686f30a358e8"
      DEFISTATION_TEST: "false"
      APP_ETHERSCAN_TOKEN: M3NKR78E15KIMJVXK9ETDDVHWGYHN7ZGZ5
      APP_POOL_BALANCES_SKIP_LOAD_HISTORICAL: false
          ingress:
      hosts:
      - host: "{{ env_fqdn }}"
        paths:
        - /v1
        - /v2
        - /api/v2
    workers:
      blockchain_block_events:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_block_events]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      blockchain_block:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_block]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      blockchain_event:
        cmd: ['bundle','exec','rake', 'workers:run[blockchain_event]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      rates_creator:
        cmd: ['bundle','exec','rake', 'workers:run[rates_creator]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      gas_tracker:
        cmd: ['bundle','exec','rake', 'workers:run[gas_tracker]']
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      pool_balancer:
        cmd: [ 'bundle','exec','rake', 'workers:run[pool_balancer]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      exchanges_updater:
        cmd: [ 'bundle','exec','rake', 'workers:run[exchanges_updater]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      dividend_balance:
        cmd: [ 'bundle','exec','rake', 'workers:run[dividend_balance]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      defistation_updater:
        cmd: [ 'bundle','exec','rake', 'workers:run[defistation_updater]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      pool_stats_updater:
        cmd: [ 'bundle','exec','rake', 'workers:run[pool_stats_updater]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }
      farming:
        cmd: [ 'bundle','exec','rake', 'workers:run[farming]' ]
        resources:
          requests: { cpu: 0.05, memory: '256Mi' }
          limits: { cpu: 0.5, memory: '768Mi' }

  emiswap-nft:
    fullnameOverride: "emiswap-nft"
    image:
      repository: "registry.gitlab.com/emidao/emiswap/eminft/eminft-production"
      tag: "153b1f05"
      pullPolicy: Always
    basePath: /magic_cards
    ingress:
      hosts:
      - host: "{{ env_fqdn }}"
        paths:
        - /magic_cards
    env_js: |
      window.env = {
        NFT_API_BASE_URL: 'https://{{ env_fqdn }}'
      };

  emiswap-info:
    fullnameOverride: emiswap-info
    image:
      repository: "registry.gitlab.com/emidao/emiswap/info/emiswap-info-production"
      tag: "sha-fb8e6431"
      pullPolicy: Always

  emiswap-landing:
    fullnameOverride: "emiswap-landing"
    image:
      repository: "registry.gitlab.com/emidao/emiswap/landing/emiswap-landing-production"
      tag: "b763301f"
      pullPolicy: Always
